@model TourModel

@{
    ViewData["Title"] = "Tour details";
    int imgCount = 0;
    if(Model != null)
    {
        imgCount = Model.Hotel.Images.Count();
    }
}

<div class="detail-name">
    <div>
        <h1>@Model.Title</h1>
        <span class="detail-place">@Model.Country, @Model.City</span>
    </div>
</div>
<div class="details-tour">
    <div>
        <div class="slideshow-container">
            @for(int i = 0; i < imgCount; i++)
            {
                <div class="mySlides">
                    <div class="numbertext">@(i+1) / @imgCount</div>
                    <img src="@Url.Content(Model.Hotel.Images[i].Path)">
                </div>
            }
            <a class="prev" onclick="plusSlides(-1)">❮</a>
            <a class="next" onclick="plusSlides(1)">❯</a>
        </div>
        <br>
        <div style="text-align:center">
             @for(int i = 0; i < imgCount; i++)
             {
                 <span class="dot" onclick="currentSlide(@(i+1))"></span> 
             }
        </div>
        <script src="~/js/Slider.js"></script>
    </div>
    <div class="details-tour__info info-box">
         <div class="info-box__heading">Information about tour</div>
         <div class="info-box__flex">
              <div class="info-box__item">
                  Tour dates: <strong>@Model.Transports.FirstOrDefault().ArrivalTime.ToString("dd.MM.yyyy") - @Model.Transports.LastOrDefault().DepartureTime.ToString("dd.MM.yyyy")</strong>
              </div>
              <div class="info-box__item">
                  Duration: <strong>@Model.Duration days</strong>
              </div>
              <div class="info-box-transport">
              @if(@Model.Transports.FirstOrDefault() != null || @Model.Transports.FirstOrDefault().Id != 0)
              {
                  <div>Transport <strong>included</strong></div>
                  <div><strong>In</strong></div>
                  <div>
                      Type: <strong>@Model.Transports.FirstOrDefault().Type</strong>
                  </div>
                  <div>
                      Departure from: <strong>@Model.Transports.FirstOrDefault().DeparturePoint</strong>
                  </div>
                    @if(@Model.Transports[1] != null || @Model.Transports[1].Id != 0)
                    {
                        <div><strong>Out</strong></div>
                        <div>
                           Type: <strong>@Model.Transports.LastOrDefault().Type</strong>
                        </div>
                        <div>
                           Departure from: <strong>@Model.Transports.LastOrDefault().DeparturePoint</strong>
                        </div>
                    }
                }
                else
                {
                    <div>
                        Transport <strong>not included</strong>
                    </div>
                }
              </div>
              <div class="info-box-price-section">
                  <div class="info-box__price">
                      @Model.Price$
                  </div>
              </div>
              <a asp-controller="Booking" asp-action="BookingOnline" asp-route-id="@Model.Id" class="linkbtn">Book online</a>
          </div>
    </div>
</div>
<hr />
<div class="tour-description">
    <h2>Description</h2>
    <div>
        <p>@Model.Description</p>
    </div>
    <br />
    <h3>About Hotel</h3>
    <p><strong>Address:</strong> @Model.Hotel.Address</p>
</div>
